@page
@using Constants;
@model SwimResults.Pages.DeleteModel

@{
    ViewData["Title"] = "Delete";
}
<div class="card">
    <div class="card-header" id="cardHeader">
        <h3>Are you sure you want to delete this workout?</h3>
        <button class="btn btn-info btn-sm" data-toggle="collapse" data-target="#workoutDetails" aria-controls="workoutDetails" aria-expanded="true">Hide details</button>
    </div>
    <div class="card-body show" id="workoutDetails" aria-labelledby="cardHeader">
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Workout.Name)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Workout.Name)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Workout.Distance)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Workout.Distance) m
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Workout.Duration)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Workout.DurationFormatted)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Workout.Pace)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Workout.PaceFormatted) / 100 m
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Workout.Place)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Workout.Place)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Workout.Date)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Workout.Date)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Workout.Start)
            </dt>
            <dd class="col-sm-10">
                @Model.Workout.Start.ToString("t")
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Workout.Note)
            </dt>
            <dd class="col-sm-10">
                <span style="white-space: pre-line">@Html.DisplayFor(model => model.Workout.Note)</span>
            </dd>
        </dl>
    </div>
    <div class="card-footer">
        <form method="post" id="deleteWorkoutForm">
            <input type="hidden" asp-for="Workout.Id" />
            <div class="form-group mt-3">
                <input type="submit" value="Delete" class="btn btn-danger" title="This <strong>cannot</strong> be undone!" data-placement="bottom" data-toggle="tooltip" data-html="true"/>
                <a href="@TempData.Peek(ValueKeys.TempDataReturnPathKey)" class="btn btn-secondary ml-3" title="Go back" data-toggle="tooltip" data-placement="bottom">Cancel</a>
                @*<a href="#deleteWarning" class="btn btn-warning" data-toggle="modal">Show warning</a>*@
                <button class="btn" onclick="return deleteClick();">Show warning</button>
            </div>
        </form>
    </div>
</div>

<div class="modal fade" id="deleteWarning" tabindex="-1" role="dialog" aria-labelledby="modalTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content bg-gradient-info">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle">Warning</h5>
                <button class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>This will delete all data for this workout <strong>permanently</strong>.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script>
    function deleteClick() {
        let modalDialog = $('#deleteWarning');
        modalDialog.modal("show");
        return false;
    }
</script>

